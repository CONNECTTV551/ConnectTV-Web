<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreamWave - Panel</title>
    <link rel="stylesheet" href="style/main.css">
    <link rel="stylesheet" href="style/colors.css">
</head>
<body>
    <header>
        <img src="img/logo.png" alt="StreamWave Logo" class="logo">
        <h1>Panel de StreamWave</h1>
        <nav>
            <ul>
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#servicios">Servicios</a></li>
                <li id="admin-clientes-nav" style="display:none;"><a href="#administrador-clientes">Administrador de Clientes</a></li>
                <li><a href="https://walink.co/9fd827" target="_blank">Soporte (WhatsApp)</a></li>
                <li><button id="logout-btn">Cerrar Sesión</button></li>
            </ul>
        </nav>
    </header>

    <main>
        <div id="message-box" class="message-box" style="display:none;"></div>

        <section id="inicio">
            <h2>Bienvenido a tu panel, <span id="user-display-name">Usuario</span>!</h2>
            <p>Aquí encontrarás información relevante sobre tus suscripciones y novedades.</p>
            <!-- Contenido dinámico para el inicio -->
        </section>

        <section id="servicios">
            <h2>Nuestros Servicios</h2>
            <div class="service-options">
                <div id="perfil-option">
                    <h3>Perfil</h3>
                    <p>Gestiona tu información personal.</p>
                    <button id="edit-profile-btn">Editar Perfil</button>
                    <!-- Formulario de edición de perfil (oculto por defecto) -->
                    <div id="profile-edit-form" style="display: none;">
                        <input type="text" id="profile-name" placeholder="Nombre">
                        <input type="text" id="profile-lastname" placeholder="Apellido">
                        <input type="text" id="profile-whatsapp" placeholder="WhatsApp">
                        <button id="save-profile-btn">Guardar Cambios</button>
                    </div>
                </div>
                <div id="cuentas-option">
                    <h3>Cuentas de Streaming</h3>
                    <p>Administra tus cuentas vinculadas.</p>
                    <!-- Aquí se listarán las cuentas del usuario -->
                    <div id="streaming-accounts-list">
                        <!-- Cuentas cargadas dinámicamente -->
                    </div>
                    <button id="add-account-btn">Añadir Cuenta</button>
                </div>
            </div>
        </section>

        <section id="administrador-clientes" style="display:none;">
            <h2>Administrador de Clientes</h2>
            <div id="client-list">
                <!-- Los clientes se cargarán aquí dinámicamente para el administrador -->
                <table>
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>Apellido</th>
                            <th>Correo</th>
                            <th>WhatsApp</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="clients-table-body">
                        <!-- Filas de clientes aquí -->
                    </tbody>
                </table>
            </div>

            <!-- Formulario de edición de cliente (oculto por defecto) -->
            <div id="edit-client-modal" class="modal" style="display: none;">
                <div class="modal-content">
                    <span class="close-button" id="edit-client-modal-close">&times;</span>
                    <h3>Editar Cliente</h3>
                    <form id="edit-client-form">
                        <input type="hidden" id="edit-client-id">
                        <label for="edit-client-name">Nombre:</label>
                        <input type="text" id="edit-client-name" required>
                        <label for="edit-client-lastname">Apellido:</label>
                        <input type="text" id="edit-client-lastname" required>
                        <label for="edit-client-email">Correo:</label>
                        <input type="email" id="edit-client-email" readonly>
                        <label for="edit-client-whatsapp">WhatsApp:</label>
                        <input type="text" id="edit-client-whatsapp">
                        <button type="submit">Guardar Cambios</button>
                        <button type="button" id="reset-password-btn">Restablecer Contraseña</button>
                        <button type="button" id="delete-client-btn" class="delete-button">Eliminar Cliente</button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Sección para editar la página web (solo para administrador) -->
        <section id="editar-pagina" style="display:none;">
            <h2>Editar Contenido de la Página</h2>
            <p>Aquí podrás editar y modificar partes de la página web. Esto requerirá interacción con Firebase Firestore para guardar y cargar contenido dinámico.</p>
            <!-- Ejemplos de edición: -->
            <textarea id="edit-inicio-text" rows="10" cols="50" placeholder="Contenido de la sección de Inicio"></textarea>
            <button id="save-inicio-text">Guardar Contenido de Inicio</button>
            <!-- Más campos de edición según las secciones que quieras hacer editables -->
        </section>
    </main>

    <footer>
        <p>&copy; 2025 StreamWave. Todos los derechos reservados.</p>
    </footer>

    <!-- Custom Modal for Alerts/Confirms -->
    <div id="custom-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <span class="close-button" id="modal-close-button">&times;</span>
            <p id="modal-message"></p>
            <div id="modal-actions" style="text-align: center; margin-top: 20px;">
                <button id="modal-ok-button" style="display:none;">OK</button>
                <button id="modal-confirm-button" style="display:none;">Confirmar</button>
                <button id="modal-cancel-button" style="display:none;">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Firebase Initialization Module -->
    <script type="module" src="script/firebase-init.js"></script>
    <!-- Main application logic module -->
    <script type="module" src="script/main.js"></script>
    <!-- Admin specific logic module -->
    <script type="module" src="script/admin.js"></script>
</body>
</html>
